<!doctype html>
<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">

  <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
  <script src="../../web-component-tester/browser.js"></script>

  <!-- Step 1: import the element to test -->
  <link rel="import" href="../simple-material-table.html">
</head>

<body>

  <!-- You can use the document as a place to set up your fixtures. -->
  <simple-material-table title="Test Table Title"
    show-action-add
      show-action-delete
     
    ></simple-material-table>

  <script>
    var myEl = document.querySelector('simple-material-table');

      suite('<simple-material-table>', function() {
        setup( function(){
          console.log('before test');  
          myEl.columns = [
              {
                title: "Sensor",
                number: false,
                column: 'sensor',
                hidden: false
      
              }, {
                title: "Value",
                number: true,
                column: 'value',
                formatter: function(value){
                  return parseFloat(value).toFixed(2);
                },
                hidden: false
      
              }, {
                title: "Raw Value",
                number: true,
                column: 'rawValue',
                formatter: function(value){
                  return parseFloat(value).toFixed(0);
                },
                hidden: true
              },
          ];
          
          myEl.tableData =
          [
            {
                "sensor": "T",
                "value": 3.437,
                "rawValue": "3437"
            },
            {
                "sensor": "H",
                "value": 86.5,
                "rawValue": "8650"
            },
            {
                "sensor": "V",
                "value": 3.309,
                "rawValue": "3309"
            },
            {
                "sensor": "B",
                "value": 1020.26,
                "rawValue": "102026"
            },
          ];
          
          Polymer.dom.flush();
          
        });
        
        test('Checks Columns and Data', function() {
          assert.equal(myEl.columns.length, 3);
          assert.equal(myEl.tableData.length, 4);
          assert.equal(myEl.title,'Test Table Title');
          
          var thEle = myEl.getElementsByTagName('th');
          assert.equal(thEle.length,3);
          
        });

        // test('says hello', function() {
        //   assert.equal(myEl.sayHello(), 'material-table says, Hello World!');

        //   var greetings = myEl.sayHello('greetings Earthlings');
        //   assert.equal(greetings, 'material-table says, greetings Earthlings');
        // });

        // test('fires lasers', function(done) {
        //   myEl.addEventListener('material-table-lasers', function(event) {
        //     assert.equal(event.detail.sound, 'Pew pew!');
        //     done();
        //   });
        //   myEl.fireLasers();
        // });

      });
  </script>

</body>

</html>